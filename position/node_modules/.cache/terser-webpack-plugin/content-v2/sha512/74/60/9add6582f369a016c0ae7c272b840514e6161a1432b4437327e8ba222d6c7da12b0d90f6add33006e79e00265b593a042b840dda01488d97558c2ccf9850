{"map":"{\"version\":3,\"sources\":[\"pages\\\\index\\\\index.js\"],\"names\":[\"require\",\"wx\",\"push\",\"20\",\"module\",\"exports\",\"app\",\"getApp\",\"Page\",\"data\",\"longitude\",\"latitude\",\"mapHeight\",\"userLicenseAgreementDisplay\",\"boxDisplay\",\"repairFeedbackDisplay\",\"hasUserInfo\",\"disabled\",\"canIUse\",\"cannotEntery\",\"submitFeedback\",\"userInfo\",\"markers\",\"iconPath\",\"id\",\"width\",\"height\",\"polyline\",\"points\",\"color\",\"dottedLine\",\"items\",\"name\",\"value\",\"onReady\",\"e\",\"that\",\"this\",\"mapCtx\",\"createMapContext\",\"getLocation\",\"type\",\"success\",\"res\",\"setData\",\"bindGetUserInfo\",\"getSetting\",\"authSetting\",\"getUserInfo\",\"setStorageSync\",\"login\",\"userInfoStr\",\"getStorageSync\",\"console\",\"log\",\"code\",\"nicN\",\"nickName\",\"nicA\",\"avatarUrl\",\"errMsg\",\"onLoad\",\"_this\",\"globalData\",\"userInfoReadyCallback\",\"onShow\",\"agreement\",\"detail\",\"toAgreement\",\"navigateTo\",\"url\",\"agreemented\",\"repair\",\"checkboxChange\",\"repairFeedbackBox\"],\"mappings\":\"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\"}","code":"require(\"./../../runtime\"),(wx.webpackJsonp=wx.webpackJsonp||[]).push([[3],{20:function(e,t){var a=getApp();Page({data:{longitude:113.32452,latitude:23.099994,mapHeight:\"100vh\",userLicenseAgreementDisplay:!1,boxDisplay:!1,repairFeedbackDisplay:!1,hasUserInfo:!1,disabled:!0,canIUse:wx.canIUse(\"button.open-type.getUserInfo\"),cannotEntery:!0,submitFeedback:[],userInfo:{},markers:[{iconPath:\"../img/mapMarker.png\",id:0,latitude:30.49984,longitude:114.34253,width:30,height:30},{iconPath:\"../img/mapMarker.png\",id:0,latitude:30.489959,longitude:114.401657,width:30,height:30},{iconPath:\"../img/mapMarker.png\",id:0,latitude:30.49514,longitude:114.402185,width:30,height:30}],polyline:[{points:[{latitude:30.49984,longitude:114.34253},{latitude:30.489959,longitude:114.401657},{latitude:30.49514,longitude:114.402185}],color:\"#FF0000DD\",width:2,dottedLine:!0}],items:[{name:\"location\",value:\"校车的定位错误；定位与实际位置偏离\",color:\"red\"},{name:\"state\",value:\"校车颜色标示的状态与校车的实际状态不符\",color:\"red\"},{name:\"number\",value:\"校车车号不对应\",color:\"red\"},{name:\"path\",value:\"路线错误，上车点错误\",color:\"red\"}]},onReady:function(e){var t=this;this.mapCtx=wx.createMapContext(\"myMap\"),wx.getLocation({type:\"gcj02\",success:function(e){var a=e.latitude,n=e.longitude;t.setData({latitude:a,longitude:n})}})},bindGetUserInfo:function(e){var t=this;wx.getSetting({success:function(e){e.authSetting[\"scope.userInfo\"]?(wx.getUserInfo({success:function(e){wx.setStorageSync(\"userInfoStr\",e.userInfo),wx.login({success:function(e){var t=wx.getStorageSync(\"userInfoStr\");if(console.log(t),e.code){var a=t.nickName,n=t.avatarUrl;e.code}else console.log(\"登录失败！\"+e.errMsg)}})}}),wx.setStorageSync(\"userEnter\",!0),t.setData({cannotEntery:!1,userLicenseAgreementDisplay:!0})):console.log(\"用户拒绝登录\")}})},onLoad:function(){var e=this;a.globalData.userInfo?this.setData({userInfo:a.globalData.userInfo,hasUserInfo:!0}):this.data.canIUse?a.userInfoReadyCallback=function(t){e.setData({userInfo:t.userInfo,hasUserInfo:!0})}:wx.getUserInfo({success:function(t){a.globalData.userInfo=t.userInfo,e.setData({userInfo:t.userInfo,hasUserInfo:!0})}})},onShow:function(e){var t=wx.getStorageSync(\"agreement\");wx.getStorageSync(\"userEnter\")?this.setData({cannotEntery:!1,userLicenseAgreementDisplay:!0}):this.setData({cannotEntery:!0,userLicenseAgreementDisplay:!1}),t&&this.setData({userLicenseAgreementDisplay:!1,boxDisplay:!0})},getUserInfo:function(e){console.log(e),a.globalData.userInfo=e.detail.userInfo,this.setData({userInfo:e.detail.userInfo,hasUserInfo:!0})},toAgreement:function(e){wx.navigateTo({url:\"../agreement/agreement\"})},agreemented:function(e){wx.setStorageSync(\"agreement\",!0),this.setData({userLicenseAgreementDisplay:!1,boxDisplay:!0})},repair:function(){this.setData({boxDisplay:!1,repairFeedbackDisplay:!0})},checkboxChange:function(e){console.log(\"checkbox发生change事件，携带value值为：\",e.detail.value),this.setData({submitFeedback:e.detail.value})},submitFeedback:function(e){console.log(this.data.submitFeedback)},repairFeedbackBox:function(){this.setData({repairFeedbackDisplay:!1,boxDisplay:!0})}})}},[[20,0]]]);","extractedComments":[]}